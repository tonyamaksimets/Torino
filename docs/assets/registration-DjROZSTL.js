import{x as M,y as W,ab as Z,r as b,z as $,f as e,ac as ee,ad as le,A as ae,ae as te,af as oe,T as ne,U as re,j as V,L as ue,ag as N,a7 as ie,ah as se,F as E,ai as de,D as O,aj as me,ak as ve,al as ce,am as fe,an as pe,ao as ye,ap as L,_ as Ve,a as be,w as u,s as q,a8 as ge,k as ke,o as xe,e as p,aq as De,ar as h,g as k,n as A,p as U,m as z,P as Ce,v as we}from"./index-BmTIjfGQ.js";import{V as Fe,a as he,b as R,c as Se,d as I,e as K,f as S}from"./VStepper-BYYT1Ojp.js";import{V as T}from"./VDivider-C_cJ_3Q0.js";import{V as Pe}from"./VDatePicker-CS1D8IY8.js";import"./VSheet-zUxWffzD.js";const _e=W({...ae(),...le()},"VForm"),Be=M()({name:"VForm",props:_e(),emits:{"update:modelValue":a=>!0,submit:a=>!0},setup(a,w){let{slots:f,emit:x}=w;const s=Z(a),n=b();function D(y){y.preventDefault(),s.reset()}function C(y){const o=y,l=s.validate();o.then=l.then.bind(l),o.catch=l.catch.bind(l),o.finally=l.finally.bind(l),x("submit",o),o.defaultPrevented||l.then(r=>{var m;let{valid:P}=r;P&&((m=n.value)==null||m.submit())}),o.preventDefault()}return $(()=>{var y;return e("form",{ref:n,class:["v-form",a.class],style:a.style,novalidate:!0,onReset:D,onSubmit:C},[(y=f.default)==null?void 0:y.call(f,s)])}),ee(s,n)}}),Ae=W({autofocus:Boolean,divider:String,focusAll:Boolean,label:{type:String,default:"$vuetify.input.otp"},length:{type:[Number,String],default:6},modelValue:{type:[Number,String],default:void 0},placeholder:String,type:{type:String,default:"number"},...pe(),...fe(),...ce(ye({variant:"outlined"}),["baseColor","bgColor","class","color","disabled","error","loading","rounded","style","theme","variant"])},"VOtpInput"),Ue=M()({name:"VOtpInput",props:Ae(),emits:{finish:a=>!0,"update:focused":a=>!0,"update:modelValue":a=>!0},setup(a,w){let{attrs:f,emit:x,slots:s}=w;const{dimensionStyles:n}=te(a),{isFocused:D,focus:C,blur:y}=oe(a),o=ne(a,"modelValue","",t=>t==null?[]:String(t).split(""),t=>t.join("")),{t:l}=re(),r=V(()=>Number(a.length)),P=V(()=>Array(r.value).fill(0)),m=b(-1),_=b(),g=b([]),B=V(()=>g.value[m.value]);function G(){if(j(B.value.value)){B.value.value="";return}const t=o.value.slice(),i=B.value.value;t[m.value]=i;let v=null;m.value>o.value.length?v=o.value.length+1:m.value+1!==r.value&&(v="next"),o.value=t,v&&L(_.value,v)}function H(t){const i=o.value.slice(),v=m.value;let c=null;["ArrowLeft","ArrowRight","Backspace","Delete"].includes(t.key)&&(t.preventDefault(),t.key==="ArrowLeft"?c="prev":t.key==="ArrowRight"?c="next":["Backspace","Delete"].includes(t.key)&&(i[m.value]="",o.value=i,m.value>0&&t.key==="Backspace"?c="prev":requestAnimationFrame(()=>{var d;(d=g.value[v])==null||d.select()})),requestAnimationFrame(()=>{c!=null&&L(_.value,c)}))}function J(t,i){var c,d;i.preventDefault(),i.stopPropagation();const v=((c=i==null?void 0:i.clipboardData)==null?void 0:c.getData("Text").slice(0,r.value))??"";j(v)||(o.value=v.split(""),(d=g.value)==null||d[t].blur())}function Q(){o.value=[]}function X(t,i){C(),m.value=i}function Y(){y(),m.value=-1}function j(t){return a.type==="number"&&/[^0-9]/g.test(t)}return ue({VField:{color:V(()=>a.color),bgColor:V(()=>a.color),baseColor:V(()=>a.baseColor),disabled:V(()=>a.disabled),error:V(()=>a.error),variant:V(()=>a.variant)}},{scoped:!0}),N(o,t=>{t.length===r.value&&x("finish",t.join(""))},{deep:!0}),N(m,t=>{t<0||ie(()=>{var i;(i=g.value[t])==null||i.select()})}),$(()=>{var v;const[t,i]=se(f);return e("div",O({class:["v-otp-input",{"v-otp-input--divided":!!a.divider},a.class],style:[a.style]},t),[e("div",{ref:_,class:"v-otp-input__content",style:[n.value]},[P.value.map((c,d)=>e(E,null,[a.divider&&d!==0&&e("span",{class:"v-otp-input__divider"},[a.divider]),e(de,{focused:D.value&&a.focusAll||m.value===d,key:d},{...s,loader:void 0,default:()=>e("input",{ref:F=>g.value[d]=F,"aria-label":l(a.label,d+1),autofocus:d===0&&a.autofocus,autocomplete:"one-time-code",class:["v-otp-input__field"],disabled:a.disabled,inputmode:a.type==="number"?"numeric":"text",min:a.type==="number"?0:void 0,maxlength:"1",placeholder:a.placeholder,type:a.type==="number"?"text":a.type,value:o.value[d],onInput:G,onFocus:F=>X(F,d),onBlur:Y,onKeydown:H,onPaste:F=>J(d,F)},null)})])),e("input",O({class:"v-otp-input-input",type:"hidden"},i,{value:o.value.join("")}),null),e(me,{contained:!0,"content-class":"v-otp-input__loader","model-value":!!a.loading,persistent:!0},{default:()=>{var c;return[((c=s.loader)==null?void 0:c.call(s))??e(ve,{color:typeof a.loading=="boolean"?void 0:a.loading,indeterminate:!0,size:"24",width:"2"},null)]}}),(v=s.default)==null?void 0:v.call(s)])])}),{blur:()=>{var t;(t=g.value)==null||t.some(i=>i.blur())},focus:()=>{var t;(t=g.value)==null||t[0].focus()},reset:Q,isFocused:D}}}),Re={style:{padding:"1rem 0.5rem"}},Ie={style:{padding:"1rem 0.5rem"}},Te={style:{padding:"1rem 0.5rem"}},je={class:"form__info"},Ne={class:"modal"},Oe={name:"Registration"},Le=Object.assign(Oe,{setup(a){const w=ke(),f=b(1),x=b(),s=b(!1),n=b({firstname:"",lastname:"",tel:"",gender:"woman",birthDate:null,localeBirthDate:null,hasDisabilities:!1,rules:[o=>o?!0:"Обязательное поле"]}),D=()=>{n.value.localeBirthDate=new Date(n.value.birthDate).toLocaleString("ru-Ru",{year:"numeric",month:"long",day:"numeric"})},C=()=>{f.value+=1},y=()=>{const o={...n.value};delete o.rules,o.appointments=[],o.cart=[],o.favourite=[],o.initials=o.firstname[0].toUpperCase()+o.lastname[0].toUpperCase(),w.state.currentUser=o,s.value=!0};return(o,l)=>(xe(),be(E,null,[e(q,{style:{"text-align":"center"}},{default:u(()=>[l[12]||(l[12]=p("p",null,"Регистрация в Torino!",-1)),e(T,{thickness:"2",color:"var(--primary-color)"})]),_:1}),e(Fe,{modelValue:f.value,"onUpdate:modelValue":l[9]||(l[9]=r=>f.value=r),style:{"box-shadow":"none"}},{default:u(()=>[e(he,{style:{"box-shadow":"none"}},{default:u(()=>[e(R,{value:1,complete:f.value>1,color:"var(--primary-color)"},null,8,["complete"]),e(T),e(R,{value:2,complete:f.value>2,color:"var(--primary-color)"},null,8,["complete"]),e(T),e(R,{value:3,color:"var(--primary-color)"})]),_:1}),e(Se,{style:{margin:"0"}},{default:u(()=>[e(I,{value:1},{default:u(()=>[e(Be,{"fast-fail":"",onSubmit:l[6]||(l[6]=De(()=>{},["prevent"])),style:{padding:"0 0 1rem"}},{default:u(()=>[e(h,{modelValue:n.value.firstname,"onUpdate:modelValue":l[0]||(l[0]=r=>n.value.firstname=r),rules:n.value.rules,label:"Имя",color:"var(--primary-color)",variant:"underlined",style:{padding:"0 1rem"}},null,8,["modelValue","rules"]),e(h,{modelValue:n.value.lastname,"onUpdate:modelValue":l[1]||(l[1]=r=>n.value.lastname=r),rules:n.value.rules,label:"Фамилия",color:"var(--primary-color)",variant:"underlined",style:{padding:"0 1rem"}},null,8,["modelValue","rules"]),e(h,{modelValue:n.value.tel,"onUpdate:modelValue":l[2]||(l[2]=r=>n.value.tel=r),rules:n.value.rules,type:"number",label:"Телефон",color:"var(--primary-color)",variant:"underlined",style:{padding:"0 1rem"}},null,8,["modelValue","rules"]),e(K,{modelValue:n.value.gender,"onUpdate:modelValue":l[3]||(l[3]=r=>n.value.gender=r),inline:"",label:"Пол",color:"var(--primary-color)",style:{padding:"0 0.5rem"}},{default:u(()=>[e(S,{label:"Женщина",value:"woman"}),e(S,{label:"Мужчина",value:"man"})]),_:1},8,["modelValue"]),e(h,{modelValue:n.value.localeBirthDate,"onUpdate:modelValue":l[4]||(l[4]=r=>n.value.localeBirthDate=r),rules:n.value.rule,label:"Дата рождения",color:"var(--primary-color)",variant:"underlined",style:{padding:"0 1rem"},readonly:""},null,8,["modelValue","rules"]),e(Pe,{"hide-header":"","first-day-of-week":"1",color:"var(--primary-color)",modelValue:n.value.birthDate,"onUpdate:modelValue":[l[5]||(l[5]=r=>n.value.birthDate=r),D],"show-adjacent-months":"",width:"100%",title:""},null,8,["modelValue"]),p("div",Re,[e(k,{text:"Продолжить",type:"submit",variant:"tonal",block:"",color:"var(--primary-color)",onClick:C})])]),_:1})]),_:1}),e(I,{value:2},{default:u(()=>[e(A,null,{default:u(()=>l[13]||(l[13]=[U(" Torino - от людей людям. Мы заботимся о том, чтобы каждый человек смог выглядеть стильно и чувствовать себя при этом комфортно. По нашей особой программе мы предоставляем данную возможность людям с физическими отклонениями. Команда Torino готова поддержать каждого и выполнять личные заказы для людей с ограниченными возможностями. Чтобы стилисты могли уделять Вам особое внимание, выберите ответ из предложенных ")])),_:1}),e(K,{modelValue:n.value.hasDisabilities,"onUpdate:modelValue":l[7]||(l[7]=r=>n.value.hasDisabilities=r),color:"var(--primary-color)",style:{padding:"0 0.5rem"}},{default:u(()=>[e(S,{label:"Я физически здоров",value:!1}),e(S,{label:"У меня есть физические отклонения",value:!0})]),_:1},8,["modelValue"]),p("div",Ie,[e(k,{variant:"tonal",block:"",color:"var(--primary-color)",onClick:C},{default:u(()=>l[14]||(l[14]=[U(" Продолжить ")])),_:1})])]),_:1}),e(I,{value:3},{default:u(()=>[e(z,{variant:"text",width:"100%"},{default:u(()=>[e(A,{style:{"text-align":"center"}},{default:u(()=>l[15]||(l[15]=[p("p",null,"Мы отправили код на указанный Вами номер телефона",-1),p("p",null,"Пожалуйста, проверьте сообщения и введите код ниже",-1)])),_:1}),e(Ue,{autofocus:"",modelValue:x.value,"onUpdate:modelValue":l[8]||(l[8]=r=>x.value=r)},null,8,["modelValue"]),p("div",Te,[e(k,{variant:"tonal",block:"",color:"var(--primary-color)",text:"Завершить регистрацию",onClick:y})]),p("p",je,[l[16]||(l[16]=p("span",null,"Не получили код?",-1)),e(k,{color:"var(--primary-color)",text:"Отправить снова",variant:"plain",density:"compact",size:"x-small"})])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(ge,{modelValue:s.value,"onUpdate:modelValue":l[11]||(l[11]=r=>s.value=r)},{default:u(()=>[p("div",Ne,[e(k,{class:"modal__button",variant:"flat",icon:"mdi-close",onClick:l[10]||(l[10]=r=>s.value=!1)}),e(z,null,{default:u(()=>[e(q,{style:{"text-align":"center"}},{default:u(()=>[e(Ce,{color:"var(--primary-color)"},{default:u(()=>l[17]||(l[17]=[U("mdi-check")])),_:1}),l[18]||(l[18]=p("p",null,"Вы успешно зарегистрировались!",-1))]),_:1}),e(A,null,{default:u(()=>l[19]||(l[19]=[p("p",null,"Вы можете пройти тест на определение своего стиля или сразу перейти к поиску товаров",-1)])),_:1}),e(we,{style:{display:"flex","justify-content":"space-between"}},{default:u(()=>[e(k,{color:"var(--primary-color)",text:"Пройти сейчас",variant:"tonal",to:"/test"}),e(k,{color:"var(--primary-color)",text:"Пройти позже",variant:"outlined",onClick:o.handleCloseClick,to:"/"},null,8,["onClick"])]),_:1})]),_:1})])]),_:1},8,["modelValue"])],64))}}),$e=Ve(Le,[["__scopeId","data-v-7afd81fe"]]);export{$e as default};
