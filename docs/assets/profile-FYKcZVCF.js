import{s as h}from"./styles-CrhrQhvk.js";import{_ as D,j as w,k as B,r as _,a as p,f as t,w as s,m as y,a8 as $,F as k,a9 as I,o as c,n as V,e as l,aa as N,t as o,u as S,g as r,b as U,P as j,p as z,v as A}from"./index-DzNmD0Qb.js";import{V as m}from"./VDivider-CEgp9FEZ.js";const E={class:"profile__wrapper"},F={style:{color:"#ffffff","font-size":"1rem"}},L={style:{"font-size":"1rem"}},P={class:"profile__wrapper"},R={key:0},T={style:{display:"flex"}},O={style:{display:"flex"}},q={key:1},G={class:"modal"},H={name:"Profile"},J=Object.assign(H,{setup(K){const g=I(),v=B(),e=w(()=>v.state.currentUser),i=_(!1),d=_(null),x=f=>{i.value=!0,d.value=f},C=()=>{e.value.appointments.splice(d.value,1),d.value=null,i.value=!1},b=()=>{v.state.currentUser=null,g.push("/")};return(f,a)=>(c(),p(k,null,[t(y,{variant:"text"},{default:s(()=>[t(V,null,{default:s(()=>{var u;return[l("p",E,[t(N,{color:"var(--primary-color)"},{default:s(()=>[l("span",F,o(e.value.initials),1)]),_:1}),l("p",L,o(e.value.firstname)+" "+o(e.value.lastname),1)]),a[4]||(a[4]=l("br",null,null,-1)),l("p",null,"Телефон: "+o(e.value.tel),1),l("p",null,"День рождения: "+o(e.value.localeBirthDate),1),t(m,{style:{margin:"0.5rem 0"}}),l("p",P,[l("p",null,"Стиль: "+o(((u=S(h)[e.value.style])==null?void 0:u.name)||"Не определен"),1),t(r,{to:"/test",color:"var(--primary-color)",text:e.value.style?"Пройти тест еще раз":"Определить стиль",variant:"tonal",density:"compact"},null,8,["text"])]),t(m,{style:{margin:"0.5rem 0"}}),l("p",null,o(e.value.hasDisabilities?"Есть физические отклонения":"Нет физических отклонений"),1),t(m,{style:{margin:"0.5rem 0"}}),e.value.appointments.length?(c(),p("div",R,[a[3]||(a[3]=l("p",null,"Предстоящие консультации:",-1)),(c(!0),p(k,null,U(e.value.appointments,(M,n)=>(c(),p("div",{key:n},[l("div",T,[t(j,{color:"var(--primary-color)"},{default:s(()=>a[2]||(a[2]=[z("mdi-circle-small")])),_:1}),l("div",null,[l("p",null,o(new Date(e.value.appointments[n].date).toLocaleString("ru-Ru",{year:"numeric",month:"long",day:"numeric"}))+", "+o(e.value.appointments[n].time),1),l("p",null,o(e.value.appointments[n].stylist),1)])]),l("div",O,[t(r,{to:`/appointment?id=${e.value.appointments[n].id}&&stylist=${e.value.appointments[n].stylist}`,color:"var(--primary-color)",text:"Перенести",variant:"tonal",density:"compact"},null,8,["to"]),t(r,{color:"var(--primary-color)",text:"Отменить",variant:"text",density:"compact",onClick:Q=>x(n)},null,8,["onClick"])])]))),128))])):(c(),p("p",q,"Нет предстоящих консультаций")),t(m,{style:{margin:"0.5rem 0"}}),t(r,{color:"var(--primary-color)",text:"Выйти",variant:"outlined",block:"",onClick:b})]}),_:1})]),_:1}),t($,{modelValue:i.value,"onUpdate:modelValue":a[1]||(a[1]=u=>i.value=u)},{default:s(()=>[l("div",G,[t(y,null,{default:s(()=>[t(r,{class:"modal__button",variant:"flat",icon:"mdi-close",onClick:a[0]||(a[0]=u=>i.value=!1)}),t(V,null,{default:s(()=>a[5]||(a[5]=[l("p",null,"Вы уверены, что хотите отменить запись?",-1)])),_:1}),t(A,null,{default:s(()=>[t(r,{color:"var(--primary-color)",text:"Отменить",variant:"outlined",block:"",onClick:C})]),_:1})]),_:1})])]),_:1},8,["modelValue"])],64))}}),Z=D(J,[["__scopeId","data-v-705affd3"]]);export{Z as default};
